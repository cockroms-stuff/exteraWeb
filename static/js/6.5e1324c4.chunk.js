(this.webpackJsonpexteraweb=this.webpackJsonpexteraweb||[]).push([[6],{856:function(e,t,n){},858:function(e,t,n){},860:function(e,t,n){},861:function(e,t,n){},862:function(e,t,n){},892:function(e,t,n){"use strict";n.r(t);var a=n(11),i=n(6),r=n(5),s=n(9),o=n(10),c=n(7),l=n.n(c),u=n(0),d=n.n(u),f=n(21),p=n.n(f),h=n(71),k=n(249),m=n.n(k),v=n(35),S=n(611),b=n(571),w=n(652),E=n(863),g=n(130),y=(n(653),function(e){Object(s.a)(n,e);var t=Object(o.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"render",value:function(){var e=this.props.animation;return e?d.a.createElement("div",{className:"sticker-preview"},d.a.createElement(g.a,{type:"preview",stretch:!0,animation:e,style:{borderRadius:0}})):null}}]),n}(d.a.Component)),j=y,O=n(641),C=n(32),P=n(48),M=n(857),R=n.n(M),T=n(197),I=n(8),D=(n(856),function(e){Object(s.a)(n,e);var t=Object(o.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"shouldComponentUpdate",value:function(e,t,n){return this.props.info!==e.info}},{key:"render",value:function(){var e=this.props,t=e.info,n=e.onSelect,a=e.onMouseDown,i=e.onMouseEnter,r=e.onDeleteClick;if(!t)return null;var s=t.title,o=t.stickers.map((function(e,t){return d.a.createElement("div",{className:"sticker-set-item",key:e.sticker.id,"data-sticker-id":e.sticker.id,onClick:function(){return n(e)},onMouseEnter:i,onMouseDown:a,style:{width:I.Lb,height:I.Lb}},d.a.createElement(T.b,{key:e.sticker.id,sticker:e,autoplay:!1,blur:!1,displaySize:I.Lb,preview:!0,source:T.a.PICKER}))}));return d.a.createElement("div",{className:"sticker-set"},d.a.createElement("div",{className:"sticker-set-title"},d.a.createElement("div",{className:"sticker-set-title-wrapper"},d.a.createElement("span",null,s)),r&&d.a.createElement(b.a,{"aria-label":"delete",classes:{root:"sticker-set-icon-root"},size:"small",onClick:r},d.a.createElement(R.a,{fontSize:"inherit"}))),d.a.createElement("div",{className:"sticker-set-content"},o))}}]),n}(d.a.Component)),U=D,x=n(859),N=n.n(x),A=n(640),V=n(117),L=(n(858),function(e){Object(s.a)(n,e);var t=Object(o.a)(n);function n(e){var a;return Object(i.a)(this,n),(a=t.call(this,e)).onClientUpdateStickerSetPosition=function(e){var t=e.position;a.setState({position:t})},a.scrollToPosition=function(){var e=a.state.position,t=Object(C.a)(a),n=t.animator,i=t.anchorRef,r=t.scrollRef.current,s=i.current,o=P.findDOMNode(s),c=r.scrollLeft,l=48*e-147,u=Number(o.style.left.replace("px","")),d=48*e;n&&n.stop(),a.animator=new A.a(0,[{from:c,to:l,func:function(e){return r.scrollLeft=e}},{from:Math.abs(d-u)>338?d-338*Math.sign(d-u):u,to:d,func:function(e){return o.style.left=e+"px"}}]),setTimeout((function(){a.animator&&a.animator.start()}),0)},a.handleWheel=function(e){var t=Object(C.a)(a).scrollRef;0===e.deltaX&&(t.current.scrollLeft+=e.deltaY)},a.handleSelect=function(e){var t=a.props,n=t.stickers;(0,t.onSelect)(n.indexOf(e))},a.scrollRef=d.a.createRef(),a.anchorRef=d.a.createRef(),a.state={position:0},a}return Object(r.a)(n,[{key:"componentDidMount",value:function(){V.a.on("clientUpdateStickerSetPosition",this.onClientUpdateStickerSetPosition)}},{key:"componentWillUnmount",value:function(){V.a.off("clientUpdateStickerSetPosition",this.onClientUpdateStickerSetPosition)}},{key:"componentDidUpdate",value:function(e,t,n){t.position!==this.state.position&&this.scrollToPosition()}},{key:"render",value:function(){var e=this,t=this.props,n=t.recent,a=t.stickers,i=n?d.a.createElement("div",{className:"stickers-picker-header-recent",onClick:function(){return e.handleSelect("recent")}},d.a.createElement(N.a,null)):null,r=a.map((function(t){return d.a.createElement(T.b,{key:t.sticker.id,className:"stickers-picker-header-sticker",sticker:t,play:!1,autoplay:!1,blur:!1,displaySize:36,preview:!0,source:T.a.PICKER_HEADER,openMedia:function(){return e.handleSelect(t)}})}));return d.a.createElement("div",{className:"stickers-picker-header"},d.a.createElement("div",{ref:this.scrollRef,className:p()("stickers-picker-header-scroll","scrollbars-hidden"),onWheel:this.handleWheel},d.a.createElement("div",{className:"stickers-picker-header-items"},i,r),d.a.createElement("div",{ref:this.anchorRef,className:"stickers-picker-header-anchor"})))}}]),n}(d.a.Component)),_=n(16),H=n(15),G=n(50),B=n(3),F=n(1),W=(n(860),function(e){Object(s.a)(n,e);var t=Object(o.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).onUpdateInstalledStickerSets=function(e){var t=e.is_masks;e.sticker_set_ids;t&&r.filterSets()},r.onUpdateRecentStickers=function(e){r.reloadRecentContent()},r.scrollTop=function(){r.scrollRef.current.scrollTop=0},r.loadContent=function(){var e=Object(a.a)(l.a.mark((function e(t,n,a){var i,s,o,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=4;break}return e.next=3,F.a.send({"@type":"getRecentStickers",is_attached:!1});case 3:t=e.sent;case 4:if(a){e.next=13;break}return e.next=7,F.a.send({"@type":"getInstalledStickerSets",is_masks:!1});case 7:return i=e.sent,s=[],i.sets.forEach((function(e){s.push(F.a.send({"@type":"getStickerSet",set_id:e.id}))})),e.next=12,Promise.all(s);case 12:a=e.sent;case 13:o=a.slice(0,5),c=a.reduce((function(e,t){return t.stickers.length>0&&e.push(t.stickers[0]),e}),[]),r.setState({recent:t,stickerSets:n,sets:o,fullSets:a,headerStickers:c}),r.setsLength=o.length;case 17:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),r.loadInViewContentOnScroll=function(){r.loadInViewContent()},r.loadInViewContentOnScrollEnd=function(){r.loadInViewContent(400)},r.loadInViewContent=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=r.scrollRef.current,n=r.state.sets,a=[];n.forEach((function(n){var i=r.itemsMap.get(n.id),s=P.findDOMNode(i);if(s){var o=t.scrollTop-e,c=t.scrollTop+t.offsetHeight+e,l=s.offsetTop,u=s.offsetTop+s.clientHeight;(l>=o&&s.offsetTop<=c||u>=o&&u<=c||l<=o&&u>=c)&&a.push(n)}})),a.forEach((function(e){var t=B.a.getStore();r.loadedSets.has(e.id)||(r.loadedSets.set(e.id,e.id),Object(H.G)(t,e))}))},r.updatePosition=function(){var e=r.scrollRef.current,t=r.state,n=t.recent,a=t.sets,i=e.scrollHeight,s=0,o=0;if(n&&n.stickers.length>0){o=1;var c=r.itemsMap.get("recent");if(c){var l=P.findDOMNode(c);if(l&&l.offsetTop<=e.scrollTop){var u=l.offsetTop;if(l&&u<=e.scrollTop){var d=Math.abs(e.scrollTop-u);d<=i&&(i=d,s=0)}}}}a.forEach((function(t,n){var a=r.itemsMap.get(t.id);if(a){var c=P.findDOMNode(a);if(c&&c.offsetTop<=e.scrollTop){var l=c.offsetTop;if(c){var u=Math.abs(e.scrollTop-l);u<=i&&(i=u,s=o+n)}}}})),F.a.clientUpdate({"@type":"clientUpdateStickerSetPosition",position:s})},r.handleScroll=Object(a.a)(l.a.mark((function e(){var t,n,a,i,s,o,c,u;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.scrolling=!0,t=new Date,r.lastScrollTime=t,r.scrollTimer&&clearTimeout(r.scrollTimer),r.scrollTimer=setTimeout((function(){t===r.lastScrollTime&&(r.scrolling=!1)}),250),r.loadInViewContentOnScrollEnd(),r.updatePosition(),n=r.scrollRef.current,!r.loadingChunk){e.next=10;break}return e.abrupt("return");case 10:if(a=!1,n.scrollTop+n.offsetHeight>=n.scrollHeight-400&&(a=!0),a){e.next=14;break}return e.abrupt("return",!1);case 14:if(i=r.state,s=i.sets,(o=i.stickerSets).sets.length!==s.length){e.next=17;break}return e.abrupt("return");case 17:return r.loadingChunk=!0,c=[],o.sets.slice(r.setsLength,r.setsLength+5).forEach((function(e){c.push(F.a.send({"@type":"getStickerSet",set_id:e.id}))})),e.next=22,Promise.all(c).finally((function(){r.loadingChunk=!1}));case 22:u=e.sent,r.setsLength+=u.length,r.setState({sets:s.concat(u)});case 25:case"end":return e.stop()}}),e)}))),r.loadPreviewContent=function(e){var t=r.state,n=t.recent,a=t.sets,i=Object(G.j)([n].concat(a)).find((function(t){return t.sticker.id===e}));if(i){var s=B.a.getStore();Object(H.F)(s,i,null);Object(G.h)(i,a,5).forEach((function(e){Object(H.F)(s,e,null)}))}},r.handleMouseEnter=function(e){var t=Number(e.currentTarget.dataset.stickerId);if(t&&r.mouseDown){r.mouseDownStickerId!==t&&(r.mouseDownStickerId=null),r.setState({previewStickerId:t}),r.loadPreviewContent(t);var n=r.props.onPreview,a=r.state,i=a.recent,s=a.sets;n(Object(G.j)([i].concat(s)).find((function(e){return e.sticker.id===t})))}},r.handleMouseDown=function(e){var t=Number(e.currentTarget.dataset.stickerId);if(t){r.mouseDownStickerId=t;var n=Date.now();return r.setState({previewStickerId:t,timestamp:n,showPreview:!1,cancelSend:!1}),setTimeout((function(){r.state.timestamp===n&&r.setState({showPreview:!0,cancelSend:!0},(function(){var e=r.props.onPreview,n=r.state,a=n.recent,i=n.sets;e(Object(G.j)([a].concat(i)).find((function(e){return e.sticker.id===t})))}))}),500),r.loadPreviewContent(t),r.mouseDown=!0,document.addEventListener("mouseup",r.handleMouseUp),e.preventDefault(),e.stopPropagation(),!1}},r.handleMouseUp=function(){r.setState({previewStickerId:0,timestamp:0,showPreview:!1}),(0,r.props.onPreview)(null),r.mouseDown=!1,document.removeEventListener("mouseup",r.handleMouseUp)},r.handleStickerSelect=function(e){var t=r.props.onSelect;r.state.cancelSend||t(e)},r.handleSelectSet=function(){var e=Object(a.a)(l.a.mark((function e(t){var n,a,i,s,o,c,u,d,f,p;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.state,a=n.sets,i=n.stickerSets,s=Object(C.a)(r),o=s.scrollRef,-1!==t){e.next=7;break}o.current.scrollTop=0,e.next=26;break;case 7:if(!(t<a.length)){e.next=12;break}(c=r.itemsMap.get(a[t].id))&&(u=P.findDOMNode(c))&&(o.current.scrollTop=u.offsetTop),e.next=26;break;case 12:if(!(t<i.sets.length)){e.next=26;break}if(!r.loadingChunk){e.next=15;break}return e.abrupt("return");case 15:if(i.sets.length!==a.length){e.next=17;break}return e.abrupt("return");case 17:return r.loadingChunk=!0,d=[],i.sets.slice(r.setsLength,t+1).forEach((function(e){d.push(F.a.send({"@type":"getStickerSet",set_id:e.id}))})),e.next=22,Promise.all(d).finally((function(){return r.loadingChunk=!1}));case 22:f=e.sent,r.setsLength+=f.length,p=a.concat(f),r.setState({sets:p},(function(){t<p.length&&r.handleSelectSet(t)}));case 26:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.handleDeleteRecent=function(){F.a.send({"@type":"clearRecentStickers",is_attached:!1})},r.handleDeleteStickerSet=function(e){F.a.send({"@type":"changeStickerSet",set_id:e,is_installed:!1})},r.scrollRef=d.a.createRef(),r.itemsMap=new Map,r.loadedSets=new Map,r.state={recent:null,stickerSets:null,sets:[],headerStickers:[],position:0},r.loadInViewContentOnScrollEnd=Object(_.e)(r.loadInViewContentOnScrollEnd,100),r.loadInViewContentOnScroll=Object(_.E)(r.loadInViewContentOnScroll,2e3),r.updatePosition=Object(_.E)(r.updatePosition,250),r}return Object(r.a)(n,[{key:"shouldComponentUpdate",value:function(e,t,n){var a=this.state,i=a.position,r=a.recent,s=a.stickerSets,o=a.sets,c=a.showPreview;return t.recent!==r||(t.stickerSets!==s||(t.sets!==o||(t.showPreview!==c||t.position!==i)))}},{key:"componentDidMount",value:function(){V.a.on("updateInstalledStickerSets",this.onUpdateInstalledStickerSets),V.a.on("updateRecentStickers",this.onUpdateRecentStickers)}},{key:"componentWillUnmount",value:function(){V.a.off("updateInstalledStickerSets",this.onUpdateInstalledStickerSets),V.a.off("updateRecentStickers",this.onUpdateRecentStickers)}},{key:"stop",value:function(){}},{key:"filterSets",value:function(e){var t=this.state;t.sets,t.stickerSets}},{key:"reloadRecentContent",value:function(){var e=Object(a.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.a.send({"@type":"getRecentStickers",is_attached:!1});case 2:t=e.sent,this.setState({recent:t});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.props,n=t.t,a=t.style,i=this.state,r=i.recent,s=(i.stickerSets,i.sets),o=i.headerStickers;this.itemsMap.clear();var c=s.map((function(t){return d.a.createElement(U,{key:t.id,ref:function(n){return e.itemsMap.set(t.id,n)},info:t,onSelect:e.handleStickerSelect,onMouseDown:e.handleMouseDown,onMouseEnter:e.handleMouseEnter})})),l=r&&r.stickers.length>0?{stickers:r.stickers,title:n("RecentStickers")}:null;return d.a.createElement("div",{className:"stickers-picker",style:a},d.a.createElement(L,{recent:l,stickers:o,onSelect:this.handleSelectSet}),d.a.createElement("div",{ref:this.scrollRef,className:p()("stickers-picker-scroll","scrollbars-hidden"),onScroll:this.handleScroll},Boolean(l)&&d.a.createElement(U,{ref:function(t){return e.itemsMap.set("recent",t)},info:l,onSelect:this.handleStickerSelect,onMouseDown:this.handleMouseDown,onMouseEnter:this.handleMouseEnter,onDeleteClick:this.handleDeleteRecent}),c))}}]),n}(d.a.Component)),z=Object(h.a)(Object(h.d)(),Object(v.d)(),Object(h.c)())(W),X=n(199),J=(n(861),function(e){Object(s.a)(n,e);var t=Object(o.a)(n);function n(e){var a;return Object(i.a)(this,n),(a=t.call(this,e)).handleScroll=function(e){var t=a.scrollRef.current,n=t.scrollTop,i=t.scrollHeight,r=t.offsetHeight;a.loadInViewContentOnScrollEnd();var s=n<=10,o=i-(n+r)<=10,c=Math.abs(n-a.prevScrollTop)>50&&!s&&!o;a.prevScrollTop=n,c||a.loadInViewContent()},a.scrollTop=function(){a.scrollRef.current.scrollTop=0},a.loadInViewContentOnScroll=function(){a.loadInViewContent()},a.loadInViewContentOnScrollEnd=function(){a.loadInViewContent()},a.loadInViewContent=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=a.scrollRef.current,n=X.a.savedAnimations;if(n){var i=n.animations,r=new Map,s=[];i.forEach((function(n,i){var o=a.itemsMap.get("".concat(i,"_").concat(n.animation.id)),c=P.findDOMNode(o);if(c){var l=t.scrollTop-e,u=t.scrollTop+t.offsetHeight+e,d=c.offsetTop,f=c.offsetTop+c.clientHeight;(d>=l&&c.offsetTop<=u||f>=l&&f<=u||d<=l&&f>=u)&&(r.set(n,n),s.push(i))}}));var o=X.a.animationsInView;Object(_.A)(o,r)||F.a.clientUpdate({"@type":"clientUpdateAnimationsInView",animations:r})}},a.handleMouseDown=function(e){var t=Number(e.currentTarget.dataset.animationIndex);a.mouseDownStickerId=t;var n=Date.now();return a.setState({previewStickerId:t,timestamp:n,showPreview:!1,cancelSend:!1}),setTimeout((function(){a.state.timestamp===n&&a.setState({showPreview:!0,cancelSend:!0},(function(){var e=a.props.onPreview,n=a.state;n.recent,n.sets;e(X.a.savedAnimations.animations[t])}))}),500),a.mouseDown=!0,document.addEventListener("mouseup",a.handleMouseUp),e.preventDefault(),e.stopPropagation(),!1},a.handleMouseEnter=function(e){var t=Number(e.currentTarget.dataset.animationIndex);a.mouseDown&&(a.mouseDownStickerId!==t&&(a.mouseDownStickerId=null),a.setState({previewStickerId:t}),(0,a.props.onPreview)(X.a.savedAnimations.animations[t]))},a.handleMouseUp=function(){a.setState({previewStickerId:0,timestamp:0,showPreview:!1}),(0,a.props.onPreview)(null),a.mouseDown=!1,document.removeEventListener("mouseup",a.handleMouseUp)},a.openAnimation=function(e){var t=a.props.onSelect;a.state.cancelSend||t(e)},a.scrollRef=d.a.createRef(),a.itemsMap=new Map,a.loadInViewContentOnScroll=Object(_.E)(a.loadInViewContentOnScroll,250),a.loadInViewContentOnScrollEnd=Object(_.e)(a.loadInViewContentOnScrollEnd,250),a}return Object(r.a)(n,[{key:"start",value:function(){this.loadInViewContent()}},{key:"stop",value:function(){F.a.clientUpdate({"@type":"clientUpdateAnimationsInView",animations:new Map})}},{key:"loadContent",value:function(){var e=Object(a.a)(l.a.mark((function e(){var t,n,a,i=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=X.a.savedAnimations){e.next=8;break}return e.next=4,F.a.send({"@type":"getSavedAnimations"});case 4:n=e.sent,X.a.savedAnimations=n,t=n,this.forceUpdate((function(){i.start()}));case 8:a=B.a.getStore(),t.animations.slice(0,1e3).forEach((function(e){Object(H.t)(a,e,null),Object(H.s)(a,e,null,!1)}));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.props,n=(t.t,t.style),a=X.a.savedAnimations;if(!a)return null;this.itemsMap.clear();var i=a.animations.map((function(t,n){return d.a.createElement("div",{"data-animation-index":n,key:"".concat(n,"_").concat(t.animation.id),ref:function(a){return e.itemsMap.set("".concat(n,"_").concat(t.animation.id),a)},onMouseDown:e.handleMouseDown,onMouseEnter:e.handleMouseEnter},d.a.createElement(g.a,{type:"picker",animation:t,openMedia:function(){return e.openAnimation(t)},style:{width:104,height:104,margin:2,borderRadius:0}}))}));return d.a.createElement("div",{className:"gifs-picker",style:n},d.a.createElement("div",{ref:this.scrollRef,className:p()("gifs-picker-scroll","scrollbars-hidden"),onScroll:this.handleScroll},i))}}]),n}(d.a.Component)),K=Object(h.a)(Object(h.d)(),Object(v.d)(),Object(h.c)())(J),Y=n(17),q=n(2),Q=(n(862),function(e){Object(s.a)(n,e);var t=Object(o.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).onClientUpdateChange=function(e){r.state.open?r.removePicker=!0:r.picker=null},r.handleButtonMouseEnter=function(e){r.buttonEnter=!0,setTimeout((function(){if(r.buttonEnter&&(r.updatePicker(!0),r.loadStickerSets(),r.loadSavedAnimations(),2===r.state.tab)){var e=r.gifsPickerRef.current;e&&e.start()}}),I.i)},r.loadSavedAnimations=Object(a.a)(l.a.mark((function e(){var t,n,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=X.a.savedAnimations){e.next=7;break}return e.next=4,F.a.send({"@type":"getSavedAnimations"});case 4:n=e.sent,X.a.savedAnimations=n,t=n;case 7:a=B.a.getStore(),t.animations.slice(0,1e3).forEach((function(e){Object(H.t)(a,e)}));case 10:case"end":return e.stop()}}),e)}))),r.loadStickerSets=Object(a.a)(l.a.mark((function e(){var t,n,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r.sets){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,F.a.send({"@type":"getRecentStickers",is_attached:!1});case 4:return r.recent=e.sent,e.next=7,F.a.send({"@type":"getInstalledStickerSets",is_masks:!1});case 7:return r.stickerSets=e.sent,t=[],r.stickerSets.sets.forEach((function(e){t.push(F.a.send({"@type":"getStickerSet",set_id:e.id}))})),e.next=12,Promise.all(t);case 12:r.sets=e.sent,n=r.stickersPickerRef.current,a=B.a.getStore(),Object(H.D)(a,r.recent),r.sets.slice(0,5).reverse().forEach((function(e){Object(H.G)(a,e),n.loadedSets.set(e.id,e.id)})),r.sets.reduce((function(e,t){return t.stickers.length>0&&e.push(t.stickers[0]),e}),[]).forEach((function(e){Object(H.H)(a,e)}));case 20:case"end":return e.stop()}}),e)}))),r.handleButtonMouseLeave=function(){r.buttonEnter=!1,setTimeout((function(){r.tryClosePicker()}),I.i)},r.tryClosePicker=function(){var e=r.state,t=e.animation,n=e.sticker;r.paperEnter||r.buttonEnter||n||t||r.updatePicker(!1)},r.handlePaperMouseEnter=function(){r.paperEnter=!0},r.handlePaperMouseLeave=function(){r.paperEnter=!1,setTimeout((function(){r.tryClosePicker()}),I.i)},r.updatePicker=function(e){r.setState({open:e},(function(){if(!r.state.open){r.removePicker&&(r.picker=null,r.removePicker=!1);var e=r.gifsPickerRef.current;e&&e.stop()}}))},r.handleEmojiClick=function(){r.setState({tab:0});var e=r.gifsPickerRef.current;e&&e.stop();var t=r.stickersPickerRef.current;t&&t.stop()},r.handleStickersClick=function(){var e=r.stickersPickerRef.current;1===r.state.tab?e&&e.scrollTop():(setTimeout((function(){e.loadContent(r.recent,r.stickerSets,r.sets)}),150),r.setState({tab:1}));var t=r.gifsPickerRef.current;t&&t.stop()},r.handleGifsClick=function(){var e=r.gifsPickerRef.current;if(2===r.state.tab)e&&e.scrollTop();else{var t=X.a.savedAnimations;setTimeout((function(){e.loadContent(t),e.start()}),150),r.setState({tab:2})}var n=r.stickersPickerRef.current;n&&n.stop()},r.handleStickerSend=function(e){e&&(F.a.clientUpdate({"@type":"clientUpdateStickerSend",sticker:e}),r.updatePicker(!1))},r.handleStickerPreview=function(e){r.setState({sticker:e}),F.a.clientUpdate({"@type":"clientUpdateStickerPreview",sticker:e}),e||r.tryClosePicker()},r.handleGifSend=function(e){e&&(F.a.clientUpdate({"@type":"clientUpdateAnimationSend",animation:e}),r.updatePicker(!1))},r.handleGifPreview=function(e){r.setState({animation:e}),F.a.clientUpdate({"@type":"clientUpdateAnimationPreview",animation:e}),e||r.tryClosePicker()},r.state={open:!1,tab:0},r.emojiPickerRef=d.a.createRef(),r.stickersPickerRef=d.a.createRef(),r.gifsPickerRef=d.a.createRef(),r}return Object(r.a)(n,[{key:"componentDidMount",value:function(){Y.a.on("clientUpdateThemeChange",this.onClientUpdateChange),q.a.on("clientUpdateLanguageChange",this.onClientUpdateChange)}},{key:"componentWillUnmount",value:function(){Y.a.off("clientUpdateThemeChange",this.onClientUpdateChange),q.a.off("clientUpdateLanguageChange",this.onClientUpdateChange)}},{key:"render",value:function(){var e=this.props,t=e.theme,n=e.t,a=this.state,i=a.open,r=a.tab,s=a.animation,o=a.sticker;if(i&&!this.picker){var c={search:n("Search"),notfound:n("NotEmojiFound"),skintext:n("ChooseDefaultSkinTone"),categories:{search:n("SearchResults"),recent:n("Recent"),people:n("SmileysPeople"),nature:n("AnimalsNature"),foods:n("FoodDrink"),activity:n("Activity"),places:n("TravelPlaces"),objects:n("Objects"),symbols:n("Symbols"),flags:n("Flags"),custom:n("Custom")}};this.picker=d.a.createElement(E.a,{ref:this.emojiPickerRef,set:"apple",showPreview:!1,showSkinTones:!1,onSelect:this.props.onSelect,color:t.palette.primary.dark,i18n:c,native:Object(_.s)(),style:{width:338,overflowX:"hidden",position:"absolute",left:0,top:0}}),this.stickersPicker=d.a.createElement(z,{ref:this.stickersPickerRef,onSelect:this.handleStickerSend,onPreview:this.handleStickerPreview,style:{position:"absolute",left:338,top:0}}),this.gifsPicker=d.a.createElement(K,{ref:this.gifsPickerRef,onSelect:this.handleGifSend,onPreview:this.handleGifPreview,style:{width:338,overflowX:"hidden",position:"absolute",left:676,top:0}})}return d.a.createElement(d.a.Fragment,null,d.a.createElement("link",{rel:"stylesheet",type:"text/css",href:"dark"===t.palette.type?"emoji-mart.dark.css":"emoji-mart.light.css"}),d.a.createElement(b.a,{className:"inputbox-icon-button","aria-label":"Emoticon",onMouseEnter:this.handleButtonMouseEnter,onMouseLeave:this.handleButtonMouseLeave},d.a.createElement(w.a,null)),d.a.createElement("div",{className:p()("emoji-picker-root",{"emoji-picker-root-opened":i}),onMouseEnter:this.handlePaperMouseEnter,onMouseLeave:this.handlePaperMouseLeave},d.a.createElement("div",{className:p()("emoji-picker-content",{"emoji-picker-content-stickers":1===r},{"emoji-picker-content-gifs":2===r})},this.picker,this.stickersPicker,this.gifsPicker),d.a.createElement("div",{className:"emoji-picker-header"},d.a.createElement(S.a,{color:0===r?"primary":"default",className:"emoji-picker-header-button",onClick:this.handleEmojiClick},n("Emoji")),d.a.createElement(S.a,{color:1===r?"primary":"default",className:"emoji-picker-header-button",onClick:this.handleStickersClick},n("AccDescrStickers")),d.a.createElement(S.a,{color:2===r?"primary":"default",className:"emoji-picker-header-button",onClick:this.handleGifsClick},n("AttachGif")))),Boolean(o)&&d.a.createElement(O.a,{sticker:o}),Boolean(s)&&d.a.createElement(j,{animation:s}))}}]),n}(d.a.Component)),Z=Object(h.a)(Object(v.d)(),m.a);t.default=Z(Q)}}]);
//# sourceMappingURL=6.5e1324c4.chunk.js.map